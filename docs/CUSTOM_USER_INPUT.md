# è‡ªå®šä¹‰ç”¨æˆ·è¾“å…¥æŒ‡å—

## é—®é¢˜

Stage1 éœ€è¦ç”¨æˆ·çš„æ¸¸æˆåˆ›æ„ä½œä¸ºè¾“å…¥ï¼Œå¦‚ä½•æä¾›è‡ªå®šä¹‰çš„æ¸¸æˆåˆ›æ„ï¼Ÿ

---

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼ˆæ¨èï¼‰ ğŸ†•

ç°åœ¨æ”¯æŒ `--user-input` å‚æ•°ï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æä¾›æ¸¸æˆåˆ›æ„ï¼š

```bash
./run_stage_test.sh \
  -w generate-game-contents \
  -s stage1 \
  --workspace my_test \
  --user-input "ä¸€ä¸ªå¤ªç©ºå°„å‡»æ¸¸æˆï¼Œç©å®¶é©¾é©¶é£èˆ¹å‡»è´¥å¤–æ˜Ÿäºº"
```

**ä¼˜ç‚¹**ï¼š
- âœ… æ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶
- âœ… æ”¯æŒéšæ—¶æ›´æ¢æ¸¸æˆåˆ›æ„
- âœ… é€‚åˆå¿«é€Ÿæµ‹è¯•ä¸åŒåˆ›æ„

**ç®€å†™å½¢å¼**ï¼š

```bash
./run_stage_test.sh -w generate-game-contents -s stage1 --workspace my_test -u "ä½ çš„æ¸¸æˆåˆ›æ„"
```

---

### æ–¹æ¡ˆ 2ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶

ç¼–è¾‘ `test/config/stage_test_config.yaml`ï¼š

```yaml
stage1:
  input:
    type: "text"
    source: "user_input"
    example: "ä½ çš„è‡ªå®šä¹‰æ¸¸æˆåˆ›æ„"  # â† ä¿®æ”¹è¿™é‡Œ
```

ç„¶åæ­£å¸¸è¿è¡Œï¼š

```bash
./run_stage_test.sh -w generate-game-contents -s stage1 --workspace my_test
```

**ä¼˜ç‚¹**ï¼š
- âœ… é€‚åˆå›ºå®šçš„æµ‹è¯•åˆ›æ„
- âœ… æ‰€æœ‰æµ‹è¯•ä½¿ç”¨ç›¸åŒçš„è¾“å…¥

---

## å®Œæ•´ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šè‡ªå®šä¹‰æ¸¸æˆåˆ›æ„ï¼ˆå®Œæ•´æµç¨‹ï¼‰

```bash
# è®¾ç½®æ¸¸æˆåˆ›æ„
GAME_IDEA="ä¸€ä¸ªå¡”é˜²æ¸¸æˆï¼Œç©å®¶å»ºé€ ç‚®å¡”é˜²å¾¡æ•Œäººè¿›æ”»"

# æ­¥éª¤1: ç”Ÿæˆæ¸¸æˆè®¾è®¡
./run_stage_test.sh -w generate-game-contents -s stage1 --workspace tower_defense -u "$GAME_IDEA"

# æ­¥éª¤2: ç”Ÿæˆèµ„äº§åˆ—è¡¨
./run_stage_test.sh -w generate-game-contents -s stage2 --workspace tower_defense

# æ­¥éª¤3: ç”Ÿæˆèµ„äº§æ–‡æ¡£
./run_stage_test.sh -w generate-game-contents -s stage3 --workspace tower_defense

# æ­¥éª¤4: ç”Ÿæˆå›¾åƒï¼ˆç¦ç”¨æŠ å›¾ï¼‰
AUTO_REMOVE_BACKGROUND=false ./run_stage_test.sh -w generate-game-contents -s stage4 --workspace tower_defense
```

---

### ç¤ºä¾‹ 2ï¼šæµ‹è¯•å¤šä¸ªæ¸¸æˆåˆ›æ„

```bash
# åˆ›æ„ 1: èµ›è½¦æ¸¸æˆ
./run_stage_test.sh -w generate-game-contents -s stage1,stage2,stage3 \
  --workspace racing_game \
  -u "ä¸€ä¸ªèµ›è½¦æ¸¸æˆï¼Œç©å®¶é©¾é©¶æ±½è½¦åœ¨èµ›é“ä¸Šç«é€Ÿ"

# åˆ›æ„ 2: RPG æ¸¸æˆ
./run_stage_test.sh -w generate-game-contents -s stage1,stage2,stage3 \
  --workspace rpg_game \
  -u "ä¸€ä¸ªè§’è‰²æ‰®æ¼”æ¸¸æˆï¼Œç©å®¶æ¢ç´¢åœ°ä¸‹åŸå¹¶å‡»è´¥æ€ªç‰©"

# åˆ›æ„ 3: è§£è°œæ¸¸æˆ
./run_stage_test.sh -w generate-game-contents -s stage1,stage2,stage3 \
  --workspace puzzle_game \
  -u "ä¸€ä¸ªæ¶ˆé™¤æ¸¸æˆï¼Œç©å®¶åŒ¹é…ä¸‰ä¸ªç›¸åŒé¢œè‰²çš„å®çŸ³"
```

---

### ç¤ºä¾‹ 3ï¼šé•¿æ–‡æœ¬æ¸¸æˆåˆ›æ„

å¦‚æœæ¸¸æˆåˆ›æ„å¾ˆé•¿ï¼Œå»ºè®®ä½¿ç”¨å¼•å·ï¼š

```bash
./run_stage_test.sh -w generate-game-contents -s stage1 --workspace my_game \
  --user-input "ä¸€ä¸ªå¤æ‚çš„ç­–ç•¥æ¸¸æˆï¼Œç©å®¶éœ€è¦ç®¡ç†èµ„æºã€å»ºé€ å»ºç­‘ã€è®­ç»ƒå†›é˜Ÿï¼Œ
  å¹¶ä¸å…¶ä»–ç©å®¶æˆ–AIå¯¹æ‰‹è¿›è¡Œæˆ˜æ–—ã€‚æ¸¸æˆåŒ…å«ç»æµç³»ç»Ÿã€ç§‘æŠ€æ ‘ã€å¤–äº¤ç³»ç»Ÿç­‰å¤šä¸ªç»´åº¦ã€‚
  ç©å®¶éœ€è¦å¹³è¡¡å‘å±•å’Œå†›äº‹ï¼Œæœ€ç»ˆå¾æœæ•´ä¸ªåœ°å›¾ã€‚"
```

---

## ä¼˜å…ˆçº§

å½“åŒæ—¶å­˜åœ¨å¤šä¸ªè¾“å…¥æºæ—¶ï¼Œä¼˜å…ˆçº§å¦‚ä¸‹ï¼š

1. **å‘½ä»¤è¡Œå‚æ•°** (`--user-input`) - æœ€é«˜ä¼˜å…ˆçº§
2. **é…ç½®æ–‡ä»¶ç¤ºä¾‹** (`example` å­—æ®µ)
3. **é»˜è®¤å€¼** (`"æµ‹è¯•æ¸¸æˆ"`)

---

## éªŒè¯

è¿è¡Œæµ‹è¯•æ—¶ï¼ŒæŸ¥çœ‹æ—¥å¿—ç¡®è®¤ä½¿ç”¨äº†å“ªä¸ªè¾“å…¥ï¼š

```
15:32:00 [INFO] ğŸ“¥ å‡†å¤‡è¾“å…¥...
15:32:00 [INFO] ä½¿ç”¨è‡ªå®šä¹‰ç”¨æˆ·è¾“å…¥: ä¸€ä¸ªå¤ªç©ºå°„å‡»æ¸¸æˆï¼Œç©å®¶é©¾é©¶é£èˆ¹å‡»è´¥å¤–æ˜Ÿäºº
15:32:00 [INFO] âš™ï¸  æ‰§è¡Œ: text_generation_function.generate_game_design...
```

æˆ–è€…ï¼š

```
15:32:00 [INFO] ğŸ“¥ å‡†å¤‡è¾“å…¥...
15:32:00 [INFO] ä½¿ç”¨ç¤ºä¾‹è¾“å…¥: ä¸€ä¸ªå¦å…‹å¤§æˆ˜æ¸¸æˆï¼Œç©å®¶æ§åˆ¶å¦å…‹å‡»è´¥æ•Œäºº
15:32:00 [INFO] âš™ï¸  æ‰§è¡Œ: text_generation_function.generate_game_design...
```

---

## æŸ¥çœ‹å¸®åŠ©

```bash
./run_stage_test.sh --help
```

è¾“å‡ºï¼š
```
  --user-input USER_INPUT, -u USER_INPUT
                        è‡ªå®šä¹‰ç”¨æˆ·è¾“å…¥ï¼ˆç”¨äº stage1 æ¸¸æˆåˆ›æ„ï¼‰
```

---

## å¸¸è§é—®é¢˜

### Q1: æ¸¸æˆåˆ›æ„åº”è¯¥åŒ…å«ä»€ä¹ˆå†…å®¹ï¼Ÿ

**å»ºè®®åŒ…å«**ï¼š
- æ¸¸æˆç±»å‹ï¼ˆå¦‚ï¼šå°„å‡»ã€è§£è°œã€ç­–ç•¥ï¼‰
- æ ¸å¿ƒç©æ³•ï¼ˆå¦‚ï¼šå‡»è´¥æ•Œäººã€è§£å†³è°œé¢˜ã€ç®¡ç†èµ„æºï¼‰
- è§†è§’ï¼ˆå¦‚ï¼šä¿¯è§†ã€ä¾§é¢ã€ç¬¬ä¸€äººç§°ï¼‰
- é£æ ¼ï¼ˆå¦‚ï¼šåƒç´ ã€å¡é€šã€å†™å®ï¼‰

**ç¤ºä¾‹**ï¼š
```
"ä¸€ä¸ªä¿¯è§†è§’åº¦çš„å°„å‡»æ¸¸æˆï¼Œåƒç´ é£æ ¼ï¼Œç©å®¶æ§åˆ¶å¦å…‹åœ¨æˆ˜åœºä¸Šç§»åŠ¨å¹¶å‡»è´¥æ•Œæ–¹å¦å…‹"
```

### Q2: å¯ä»¥ä½¿ç”¨ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ï¼Ÿ

éƒ½å¯ä»¥ï¼LLM æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ã€‚

### Q3: æ¸¸æˆåˆ›æ„å¤ªé•¿ä¼šæœ‰é—®é¢˜å—ï¼Ÿ

å»ºè®®æ§åˆ¶åœ¨ 200-500 å­—ä»¥å†…ï¼Œè¿‡é•¿å¯èƒ½å½±å“ç”Ÿæˆè´¨é‡ã€‚

### Q4: å¦‚ä½•é‡æ–°ä½¿ç”¨ä¹‹å‰çš„æ¸¸æˆåˆ›æ„ï¼Ÿ

**æ–¹æ³• 1**ï¼šæŸ¥çœ‹å·¥ä½œç©ºé—´ä¸­çš„ game.md

```bash
cat test/temp_workspace/my_test/doc/game.md | head -5
```

**æ–¹æ³• 2**ï¼šä»é…ç½®æ–‡ä»¶ä¸­å¤åˆ¶ example å­—æ®µ

---

## æ€»ç»“

**æ¨èä½¿ç”¨æ–¹å¼**ï¼š

```bash
# ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼ˆæœ€çµæ´»ï¼‰
./run_stage_test.sh -w generate-game-contents -s stage1 --workspace my_test \
  -u "ä½ çš„æ¸¸æˆåˆ›æ„"
```

ç°åœ¨ä½ å¯ä»¥è½»æ¾æµ‹è¯•ä»»ä½•æ¸¸æˆåˆ›æ„äº†ï¼ğŸ‰
